import{b as V,l as G,r as M,a as U,c,w as _,m as g,I as Y,p as u,J as i,O as j,K as H,L as J,u as r,n as h,G as K,P as Q,M as W,Q as v}from"./vue.esm-bundler-BWLFJ3YM.js";import{u as Z,b as ee}from"./index-CdJoONYj.js";import{u as te,a as se}from"./index-Clbg1Cmp.js";import{i as C,m as E,o as ae,p as oe,h as ne,l as le}from"./ConfigProvider-DfgpcNWx.js";import{C as w,U as N}from"./event-BB_Ol6Sd.js";import{u as re}from"./index-lmL9CkRO.js";import{u as ie}from"./index-j6CJlXut.js";import{u as de}from"./use-form-common-props-Bn6XiUqq.js";import{u as ce}from"./use-form-common-props-0yetkxkH.js";import{d as ue}from"./error-Cq9Fpw4b.js";const me=ae({classItem:{type:String,default:""},options:{type:ne(Array),default:()=>[]},modelValue:{type:[String,Number,Boolean],default:void 0},block:Boolean,size:oe,disabled:Boolean,validateEvent:{type:Boolean,default:!0},id:String,name:String,...re(["ariaLabel"])}),pe={[N]:o=>V(o)||C(o)||E(o),[w]:o=>V(o)||C(o)||E(o)},be=["id","aria-label","aria-labelledby"],fe=["name","disabled","checked","onChange"],ge=G({__name:"Segmented",props:me,emits:pe,setup(o,{emit:B}){const a=o,y=B,t=le("segmented"),L=ie(),I=de(),z=ce(),{formItem:m}=ee(),{inputId:F,isLabeledByFormItem:S}=Z(a,{formItemContext:m}),d=M(null),P=te(),s=U({isInit:!1,width:0,height:0,translateX:0,translateY:0,focusVisible:!1}),A=e=>{const n=p(e);y(N,n),y(w,n)},p=e=>v(e)?e?.value:e,D=e=>v(e)?e?.label:e,b=e=>!!(z.value||v(e)&&e?.disabled),k=e=>a.modelValue===p(e),O=e=>a.options.find(n=>p(n)===e),T=e=>[t.e("item"),t.is("selected",k(e)),t.is("disabled",b(e)),a.classItem],f=()=>{if(!d.value)return;const e=d.value.querySelector(".is-selected"),n=d.value.querySelector(".is-selected input");if(!e||!n){s.width=0,s.height=0,s.translateX=0,s.translateY=0,s.focusVisible=!1;return}const l=e.getBoundingClientRect();s.isInit=!0,s.width=l.width,s.translateX=e.offsetLeft;try{s.focusVisible=n.matches(":focus-visible")}catch{}},X=c(()=>(console.log(t.b(),t.m(I.value),t.is("block",a.block)),[t.b(),t.m(I.value),t.is("block",a.block)])),R=c(()=>({width:`${s.width}px`,height:"100%",transform:`translateX(${s.translateX}px)`,display:s.isInit?"block":"none"})),$=c(()=>[t.e("item-selected"),t.is("disabled",b(O(a.modelValue))),t.is("focus-visible",s.focusVisible)]),x=c(()=>a.name||L.value);return se(d,f),_(P,f),_(()=>a.modelValue,()=>{f(),a.validateEvent&&m?.validate?.("change").catch(e=>ue())},{flush:"post"}),(e,n)=>e.options.length?(h(),g("div",{key:0,class:i(X.value),id:r(F),ref_key:"segmentedRef",ref:d,role:"radiogroup","aria-label":r(S)?void 0:e.ariaLabel||"segmented","aria-labelledby":r(S)?r(m).labelId:void 0},[u("div",{class:i([r(t).e("group")])},[u("div",{style:j(R.value),class:i($.value)},null,6),(h(!0),g(H,null,J(e.options,(l,q)=>(h(),g("label",{key:q,class:i(T(l))},[u("input",{class:i(r(t).e("item-input")),type:"radio",name:x.value,disabled:b(l),checked:k(l),onChange:he=>A(l)},null,42,fe),u("div",{class:i(r(t).e("item-label"))},[K(e.$slots,"default",{item:l},()=>[Q(W(D(l)),1)])],2)],2))),128))],2)],10,be)):Y("",!0)}});ge.__docgenInfo={exportName:"default",displayName:"Segmented",description:"",tags:{},slots:[{name:"default",scoped:!0,bindings:[{name:"item",title:"binding"}]}],sourceFiles:["/home/runner/work/b2b-ui-framework/b2b-ui-framework/components/Segmented/Segmented.vue"]};export{ge as _};
