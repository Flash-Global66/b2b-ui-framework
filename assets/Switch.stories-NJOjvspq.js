import{b as N,l as D,c as p,r as k,w as _,o as Z,m as f,n,p as E,I as c,a5 as ee,u as t,J as d,B as r,C as v,Y as y,M as B,G as L,T as te,O as ae,X as ie,R as ne,a6 as U,S as oe,F as se}from"./vue.esm-bundler-BWLFJ3YM.js";import{E as g}from"./index-BcVnClcl.js";import{l as le}from"./index-CI-tzdnq.js";import{E as re,m as I,i as P,o as ce,h as de,l as ue,w as pe,G as fe}from"./ConfigProvider-DfgpcNWx.js";import{i as V}from"./icon-CJSgHkRQ.js";import{u as me}from"./index-lmL9CkRO.js";import{I as z,C as $,U as A}from"./event-BB_Ol6Sd.js";import{_ as ve}from"./plugin-vue_export-helper-CqGSI99y.js";import{u as ge,a as he}from"./use-form-item-C_lH8tdx.js";import{u as be,a as ye}from"./use-form-common-props-Bn6XiUqq.js";import{b as we}from"./style-BhjGsvQW.js";import{t as Se,d as Ve}from"./error-Cq9Fpw4b.js";import{_ as Ce}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{a as ke}from"./index-CM9FzEWq.js";import{f as Ie}from"./index-imBTNTrX.js";import"./index-j6CJlXut.js";import"./constants-Dnj8X3EN.js";import"./index-CDPhiV_6.js";const Te=a=>["",...re].includes(a),Ne=ce({modelValue:{type:[Boolean,String,Number],default:!1},disabled:Boolean,loading:Boolean,size:{type:String,validator:Te},width:{type:[String,Number],default:""},inlinePrompt:Boolean,inactiveActionIcon:{type:V},activeActionIcon:{type:V},activeIcon:{type:V},inactiveIcon:{type:V},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},beforeChange:{type:de(Function)},id:String,tabindex:{type:[String,Number]},...me(["ariaLabel"])}),Ee={[A]:a=>I(a)||N(a)||P(a),[$]:a=>I(a)||N(a)||P(a),[z]:a=>I(a)||N(a)||P(a)},R="ElSwitch",Be=D({name:R}),Pe=D({...Be,props:Ne,emits:Ee,setup(a,{expose:m,emit:u}){const o=a,{formItem:h}=ge(),G=be(),i=ue("switch"),{inputId:T}=he(o,{formItemContext:h}),w=ye(p(()=>o.loading)),F=k(o.modelValue!==!1),b=k(),x=k(),H=p(()=>[i.b(),i.m(G.value),i.is("disabled",w.value),i.is("checked",s.value)]),J=p(()=>[i.e("label"),i.em("label","left"),i.is("active",!s.value)]),W=p(()=>[i.e("label"),i.em("label","right"),i.is("active",s.value)]),X=p(()=>({width:we(o.width)}));_(()=>o.modelValue,()=>{F.value=!0});const O=p(()=>F.value?o.modelValue:!1),s=p(()=>O.value===o.activeValue);[o.activeValue,o.inactiveValue].includes(O.value)||(u(A,o.inactiveValue),u($,o.inactiveValue),u(z,o.inactiveValue)),_(s,e=>{var l;b.value.checked=e,o.validateEvent&&((l=h?.validate)==null||l.call(h,"change").catch(Q=>Ve()))});const S=()=>{const e=s.value?o.inactiveValue:o.activeValue;u(A,e),u($,e),u(z,e),ne(()=>{b.value.checked=s.value})},K=()=>{if(w.value)return;const{beforeChange:e}=o;if(!e){S();return}const l=e();[U(l),I(l)].includes(!0)||Se(R,"beforeChange must return type `Promise<boolean>` or `boolean`"),U(l)?l.then(M=>{M&&S()}).catch(M=>{}):l&&S()},Y=()=>{var e,l;(l=(e=b.value)==null?void 0:e.focus)==null||l.call(e)};return Z(()=>{b.value.checked=s.value}),m({focus:Y,checked:s}),(e,l)=>(n(),f("div",{class:d(t(H)),onClick:ie(K,["prevent"])},[E("input",{id:t(T),ref_key:"input",ref:b,class:d(t(i).e("input")),type:"checkbox",role:"switch","aria-checked":t(s),"aria-disabled":t(w),"aria-label":e.ariaLabel,name:e.name,"true-value":e.activeValue,"false-value":e.inactiveValue,disabled:t(w),tabindex:e.tabindex,onChange:S,onKeydown:ee(K,["enter"])},null,42,["id","aria-checked","aria-disabled","aria-label","name","true-value","false-value","disabled","tabindex","onKeydown"]),!e.inlinePrompt&&(e.inactiveIcon||e.inactiveText)?(n(),f("span",{key:0,class:d(t(J))},[e.inactiveIcon?(n(),r(t(g),{key:0},{default:v(()=>[(n(),r(y(e.inactiveIcon)))]),_:1})):c("v-if",!0),!e.inactiveIcon&&e.inactiveText?(n(),f("span",{key:1,"aria-hidden":t(s)},B(e.inactiveText),9,["aria-hidden"])):c("v-if",!0)],2)):c("v-if",!0),E("span",{ref_key:"core",ref:x,class:d(t(i).e("core")),style:ae(t(X))},[e.inlinePrompt?(n(),f("div",{key:0,class:d(t(i).e("inner"))},[e.activeIcon||e.inactiveIcon?(n(),r(t(g),{key:0,class:d(t(i).is("icon"))},{default:v(()=>[(n(),r(y(t(s)?e.activeIcon:e.inactiveIcon)))]),_:1},8,["class"])):e.activeText||e.inactiveText?(n(),f("span",{key:1,class:d(t(i).is("text")),"aria-hidden":!t(s)},B(t(s)?e.activeText:e.inactiveText),11,["aria-hidden"])):c("v-if",!0)],2)):c("v-if",!0),E("div",{class:d(t(i).e("action"))},[e.loading?(n(),r(t(g),{key:0,class:d(t(i).is("loading"))},{default:v(()=>[te(t(le))]),_:1},8,["class"])):t(s)?L(e.$slots,"active-action",{key:1},()=>[e.activeActionIcon?(n(),r(t(g),{key:0},{default:v(()=>[(n(),r(y(e.activeActionIcon)))]),_:1})):c("v-if",!0)]):t(s)?c("v-if",!0):L(e.$slots,"inactive-action",{key:2},()=>[e.inactiveActionIcon?(n(),r(t(g),{key:0},{default:v(()=>[(n(),r(y(e.inactiveActionIcon)))]),_:1})):c("v-if",!0)])],2)],6),!e.inlinePrompt&&(e.activeIcon||e.activeText)?(n(),f("span",{key:1,class:d(t(W))},[e.activeIcon?(n(),r(t(g),{key:0},{default:v(()=>[(n(),r(y(e.activeIcon)))]),_:1})):c("v-if",!0),!e.activeIcon&&e.activeText?(n(),f("span",{key:1,"aria-hidden":!t(s)},B(e.activeText),9,["aria-hidden"])):c("v-if",!0)],2)):c("v-if",!0)],10,["onClick"]))}});var ze=ve(Pe,[["__file","switch.vue"]]);const $e=pe(ze),j=D({name:"GSwitch",components:{ElSwitch:$e},emits:["change"],props:{modelValue:{type:[Boolean,String,Number],default:!1},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},size:{type:String},width:{type:[String,Number],default:""},inlinePrompt:{type:Boolean,default:!1},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},activeColor:{type:String,default:""},inactiveColor:{type:String,default:""},borderColor:{type:String,default:""},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},beforeChange:{type:Function},id:String,tabindex:{type:[String,Number]},value:{type:[Boolean,String,Number],default:!1},label:{type:String,default:void 0}}});function Ae(a,m,u,o,h,G){const i=se("el-switch");return n(),r(i,oe({...a.$attrs,...a.$props},{onChange:m[0]||(m[0]=T=>a.$emit("change",T))}),null,16)}const q=Ce(j,[["render",Ae]]);j.__docgenInfo={displayName:"GSwitch",exportName:"default",description:"",tags:{},props:[{name:"modelValue",tags:{description:[{description:"binding value, it should be equivalent to either `active-value` or `inactive-value`, by default it's `boolean` type",title:"description"}]},type:{name:"boolean|string|number"},defaultValue:{func:!1,value:"false"}},{name:"disabled",tags:{description:[{description:"whether Switch is disabled",title:"description"}]},type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"loading",tags:{description:[{description:"whether Switch is in loading state",title:"description"}]},type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"size",tags:{description:[{description:"size of Switch",title:"description"}]},type:{name:"ComponentSize"}},{name:"width",tags:{description:[{description:"width of Switch",title:"description"}]},type:{name:"string|number"},defaultValue:{func:!1,value:"''"}},{name:"inlinePrompt",tags:{description:[{description:"whether icon or text is displayed inside dot, only the first character will be rendered for text",title:"description"}]},type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"activeText",tags:{description:[{description:"text displayed when in `on` state",title:"description"}]},type:{name:"string"},defaultValue:{func:!1,value:"''"}},{name:"inactiveText",tags:{description:[{description:"text displayed when in `off` state",title:"description"}]},type:{name:"string"},defaultValue:{func:!1,value:"''"}},{name:"activeValue",tags:{description:[{description:"switch value when in `on` state",title:"description"}]},type:{name:"boolean|string|number"},defaultValue:{func:!1,value:"true"}},{name:"inactiveValue",tags:{description:[{description:"switch value when in `off` state",title:"description"}]},type:{name:"boolean|string|number"},defaultValue:{func:!1,value:"false"}},{name:"activeColor",tags:{deprecated:[{description:"background color when in `on` state ( deprecated, use CSS var `--el-switch-on-color` instead )",title:"deprecated"}]},type:{name:"string"},defaultValue:{func:!1,value:"''"}},{name:"inactiveColor",tags:{deprecated:[{description:"background color when in `off` state ( deprecated, use CSS var `--el-switch-off-color` instead )",title:"deprecated"}]},type:{name:"string"},defaultValue:{func:!1,value:"''"}},{name:"borderColor",tags:{deprecated:[{description:"border color of the switch ( deprecated, use CSS var `--el-switch-border-color` instead )",title:"deprecated"}]},type:{name:"string"},defaultValue:{func:!1,value:"''"}},{name:"name",tags:{description:[{description:"input name of Switch",title:"description"}]},type:{name:"string"},defaultValue:{func:!1,value:"''"}},{name:"validateEvent",tags:{description:[{description:"whether to trigger form validation",title:"description"}]},type:{name:"boolean"},defaultValue:{func:!1,value:"true"}},{name:"beforeChange",tags:{description:[{description:"before-change hook before the switch state changes. If `false` is returned or a `Promise` is returned and then is rejected, will stop switching",title:"description"}]},type:{name:"() => Promise<boolean> | boolean"}},{name:"id",tags:{description:[{description:"id for input",title:"description"}]},type:{name:"string"}},{name:"tabindex",tags:{description:[{description:"tabindex for input",title:"description"}]},type:{name:"string|number"}},{name:"value",tags:{deprecated:[{description:"binding value ( deprecated, use `model-value / v-model` instead )",title:"deprecated"}]},type:{name:"boolean|string|number"},defaultValue:{func:!1,value:"false"}},{name:"label",tags:{description:[{description:"native input aria-label",title:"description"}]},type:{name:"string"},defaultValue:{func:!1,value:"undefined"}}],events:[{name:"change",description:"triggers when the bound value changes"}],sourceFiles:["/home/runner/work/b2b-ui-framework/b2b-ui-framework/components/Switch/Switch.vue"]};const Ze={title:"Data/Switch",component:q},De=a=>({components:{GSwitch:q,GConfigProvider:fe},template:`
    <g-config-provider>
      <div class="flex gap-3">
        <g-switch v-model="value" v-bind="args" />
      </div>
    </g-config-provider>
  `,setup(){const m=k(!1);return{args:a,value:m,onChange:Ie(ke("change"))}}}),C=De.bind({});C.parameters={...C.parameters,docs:{...C.parameters?.docs,source:{originalSource:`args => ({
  components: {
    GSwitch,
    GConfigProvider
  },
  template: /* html */\`
    <g-config-provider>
      <div class="flex gap-3">
        <g-switch v-model="value" v-bind="args" />
      </div>
    </g-config-provider>
  \`,
  setup() {
    const value = ref(false);
    return {
      args,
      value,
      onChange: fn(action('change'))
    };
  }
})`,...C.parameters?.docs?.source}}};const et=["Default"];export{C as Default,et as __namedExportsOrder,Ze as default};
