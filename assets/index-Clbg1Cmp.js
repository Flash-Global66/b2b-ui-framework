import{i as A,t as b,w as S,n as W,a as z,b as C,c as E}from"./index-BbqbSJR7.js";import{s as g,c as O,w as M,t as m,e as L,o as k,g as D,u as I}from"./vue.esm-bundler-BWLFJ3YM.js";const h=A?window:void 0;function w(o){var r;const i=m(o);return(r=i?.$el)!=null?r:i}function R(...o){const r=[],i=()=>{r.forEach(e=>e()),r.length=0},l=(e,n,s,t)=>(e.addEventListener(n,s,t),()=>e.removeEventListener(n,s,t)),a=O(()=>{const e=b(m(o[0])).filter(n=>n!=null);return e.every(n=>typeof n!="string")?e:void 0}),u=S(()=>{var e,n;return[(n=(e=a.value)==null?void 0:e.map(s=>w(s)))!=null?n:[h].filter(s=>s!=null),b(m(a.value?o[1]:o[0])),b(I(a.value?o[2]:o[1])),m(a.value?o[3]:o[2])]},([e,n,s,t])=>{if(i(),!e?.length||!n?.length||!s?.length)return;const v=z(t)?{...t}:t;r.push(...e.flatMap(c=>n.flatMap(f=>s.map(p=>l(c,f,p,v)))))},{flush:"post"}),d=()=>{u(),i()};return E(i),d}function N(){const o=g(!1),r=D();return r&&k(()=>{o.value=!0},r),o}function y(o){const r=N();return O(()=>(r.value,!!o()))}function T(o,r,i={}){const{window:l=h,...a}=i;let u;const d=y(()=>l&&"MutationObserver"in l),e=()=>{u&&(u.disconnect(),u=void 0)},n=O(()=>{const c=m(o),f=b(c).map(w).filter(C);return new Set(f)}),s=M(()=>n.value,c=>{e(),d.value&&c.size&&(u=new MutationObserver(r),c.forEach(f=>u.observe(f,a)))},{immediate:!0,flush:"post"}),t=()=>u?.takeRecords(),v=()=>{s(),e()};return E(v),{isSupported:d,stop:v,takeRecords:t}}function j(o,r,i={}){const{window:l=h,document:a=l?.document,flush:u="sync"}=i;if(!l||!a)return W;let d;const e=t=>{d?.(),d=t},n=L(()=>{const t=w(o);if(t){const{stop:v}=T(a,c=>{c.map(p=>[...p.removedNodes]).flat().some(p=>p===t||p.contains(t))&&r(c)},{window:l,childList:!0,subtree:!0});e(v)}},{flush:u}),s=()=>{n(),e()};return E(s),s}function F(o={}){var r;const{window:i=h,deep:l=!0,triggerOnRemoval:a=!1}=o,u=(r=o.document)!=null?r:i?.document,d=()=>{var s;let t=u?.activeElement;if(l)for(;t?.shadowRoot;)t=(s=t?.shadowRoot)==null?void 0:s.activeElement;return t},e=g(),n=()=>{e.value=d()};if(i){const s={capture:!0,passive:!0};R(i,"blur",t=>{t.relatedTarget===null&&n()},s),R(i,"focus",n,s)}return a&&j(e,n,{document:u}),n(),e}function H(o,r,i={}){const{window:l=h,...a}=i;let u;const d=y(()=>l&&"ResizeObserver"in l),e=()=>{u&&(u.disconnect(),u=void 0)},n=O(()=>{const v=m(o);return Array.isArray(v)?v.map(c=>w(c)):[w(v)]}),s=M(n,v=>{if(e(),d.value&&l){u=new ResizeObserver(r);for(const c of v)c&&u.observe(c,a)}},{immediate:!0,flush:"post"}),t=()=>{e(),s()};return E(t),{isSupported:d,stop:t}}export{H as a,F as u};
